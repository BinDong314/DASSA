
See the section at the end for tips on Lawrencium


1. See ../../Readme to install FastTensor (ArrayUDF) first.

   ```
   git clone https://dbin_sdm@bitbucket.org/dbin_sdm/fasttensor.git 
   ```

2, Install FFTW

  
   Either use existing modules (e.g., apt get insall fftw3, module load fftw3, etc.)
   or install your own (see DIY tips below)
 

3, Edit the Makefile

```
   AU_DIR=/Users/dbin/work/FastTensor/build
   HDF5_DIR=/Users/dbin/work/soft/hdf5-1.10.5/build
   FFTW_DIR=/Users/dbin/work/test-fasttensor/fasttensor/examples/dassa/Tools3rd/fftw-3.3.8/build
   DASH_DIR=/Users/dbin/opt/dash-0.4.
```
   
4, make


5, ./stack -i /clusterfs/bear/BinDong_DAS_Data/xcorr_examples_h5
  
  The "/clusterfs/bear/BinDong_DAS_Data/xcorr_examples_h5" is the directory for input files.
  
6, Output files will be 

```
    xcorr_examples_h5_stack_data_in_sum.h5
    xcorr_examples_h5_stack_phaseWeight.h5
    xcorr_examples_h5_stack_semblanceWeight.h5
    xcorr_examples_h5_stack_semblance_denom_sum.h5
```

7, DIY Tips on FFTW:

```
> cd Tools3rd
> tar zxvf fftw-3.3.8.tar.gz
> cd fftw-3.3.8
> ./configure  --prefix=$PWD/build
> make install
```

8, Tips on Lawrencium
   
   8.1 a quick start:
   
   It uses the FastTensor installed by Bin at /clusterfs/bear/BinDong_DAS_Data/fasttensor/build

   ```
   > git clone https://dbin_sdm@bitbucket.org/dbin_sdm/dassa.git
   > cd dassa
   > make
   ```
   
   Go back to 5. above to run the test code

   8.2 Some compile details of each step 

   ``` 
   > git clone https://dbin_sdm@bitbucket.org/dbin_sdm/dassa.git
   > module load gcc/7.4.0 hdf5/1.10.5-gcc-p fftw
   > edit Makefile to have correct setting AU_DIR/HDF5_DIR/FFTW_DIR/DASH_DIR
   > make
   ```


